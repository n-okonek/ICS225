<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Jolly Roger Radio</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/main.css">
    
 <!--   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>-->
    <script type="text/javascript">
      var h = new Image;
      h.onload = function(){
        var flag = document.getElementById('flag');
        var amp = 20;
        flag.width  = h.width;
        flag.height = h.height + amp*2;
        flag.getContext('2d').drawImage(h,0,amp,h.width,h.height);
        flag.style.marginLeft = -(flag.width/2)+'px';
        flag.style.marginTop  = -(flag.height/2)+'px';
        var timer = waveFlag( flag, h.width/10, amp );
      };
      h.src = 'images/flag.png';
      
      function waveFlag( canvas, wavelength, amplitude, period, shading, squeeze ){
        if (!squeeze)    squeeze    = 0;
        if (!shading)    shading    = 100;
        if (!period)     period     = 200;
        if (!amplitude)  amplitude  = 10;
        if (!wavelength) wavelength = canvas.width/10;
      
        var fps = 30;
        var ctx = canvas.getContext('2d');
        var   w = canvas.width, h = canvas.height;
        var  od = ctx.getImageData(0,0,w,h).data;
        // var ct = 0, st=new Date;
        return setInterval(function(){
          var id = ctx.getImageData(0,0,w,h);
          var  d = id.data;
          var now = (new Date)/period;
          for (var y=0;y<h;++y){
            var lastO=0,shade=0;
            var sq = (y-h/2)*squeeze;
            for (var x=0;x<w;++x){
              var px  = (y*w + x)*4;
              var pct = x/w;
              var o   = Math.sin(x/wavelength-now)*amplitude*pct;
              var y2  = y + (o+sq*pct)<<0;
              var opx = (y2*w + x)*4;
              shade = (o-lastO)*shading;
              d[px  ] = od[opx  ]+shade;
              d[px+1] = od[opx+1]+shade;
              d[px+2] = od[opx+2]+shade;
              d[px+3] = od[opx+3];
              lastO = o;
            }
          }
          ctx.putImageData(id,0,0);		
          // if ((++ct)%100 == 0) console.log( 1000 * ct / (new Date - st));
        },1000/fps);
      }
      
      </script>
  </head>
  <body>
    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    
    <div class="site-header">
        <canvas id="flag"></canvas>
      <div class="site-name">
        <h1>Jolly Roger Radio</h1>
      </div>
    </div>
    
    <div class="content">
      <div class="menu">
        <h2>Plot Your Course</h2>
        <ul>
          <li class="button-1">Listen</li>
          <li class=button-2>Crew</li>
          <li class="button-3">About</li>
          <li class="button-4">Contact</li>
        </ul>
      </div>
    </div>
    <!--<script src="" async defer></script>-->
  </body>
</html>